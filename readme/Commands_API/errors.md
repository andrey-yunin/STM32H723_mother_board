# Коды ошибок DDS-240

## Формат кода ошибки

Код ошибки представляет собой 2-байтное значение (UINT16):
- Старший байт: группа ошибок (соответствует группе команд)
- Младший байт: конкретная ошибка внутри группы

---

## 1. Общие ошибки (0x00xx)

| Код | Константа | Описание |
|-----|-----------|----------|
| 0x0000 | ERR_OK | Нет ошибки, успешное выполнение |
| 0x0001 | ERR_GENERAL | Общая ошибка (неопределённая) |
| 0x0002 | ERR_UNKNOWN_CMD | Неизвестная команда |
| 0x0003 | ERR_INVALID_PARAM | Недопустимые параметры |
| 0x0004 | ERR_BUSY | Устройство занято |
| 0x0005 | ERR_NOT_INIT | Устройство не инициализировано |
| 0x0006 | ERR_TIMEOUT | Таймаут выполнения |
| 0x0007 | ERR_CRC | Ошибка контрольной суммы |
| 0x0008 | ERR_PACKET_FORMAT | Неверный формат пакета |
| 0x0009 | ERR_BUFFER_OVERFLOW | Переполнение буфера |
| 0x000A | ERR_NOT_SUPPORTED | Функция не поддерживается |
| 0x000B | ERR_EMERGENCY_STOP | Аварийная остановка активна |
| 0x000C | ERR_COVER_OPEN | Крышка открыта |
| 0x000D | ERR_LOW_LIQUID | Низкий уровень жидкости |
| 0x000E | ERR_HARDWARE | Аппаратная ошибка |
| 0x000F | ERR_CALIBRATION | Ошибка калибровки |

---

## 2. Ошибки дозатора (0x10xx)

| Код | Константа | Описание |
|-----|-----------|----------|
| 0x1000 | ERR_DISP_GENERAL | Общая ошибка дозатора |
| 0x1001 | ERR_DISP_NOT_FOUND | Дозатор не найден |
| 0x1002 | ERR_DISP_MOTOR | Ошибка двигателя дозатора |
| 0x1003 | ERR_DISP_SENSOR | Ошибка датчика дозатора |
| 0x1004 | ERR_DISP_HOME | Ошибка выхода на исходную позицию |
| 0x1005 | ERR_DISP_POSITION | Ошибка позиционирования |
| 0x1006 | ERR_DISP_SYRINGE | Ошибка шприца |
| 0x1007 | ERR_DISP_VOLUME | Недопустимый объём |
| 0x1008 | ERR_DISP_AIR_BUBBLE | Обнаружен воздушный пузырь |
| 0x1009 | ERR_DISP_CLOG | Засорение канала |
| 0x100A | ERR_DISP_LIQUID_LEVEL | Ошибка уровня жидкости |
| 0x100B | ERR_DISP_COLLISION | Обнаружено столкновение |
| 0x100C | ERR_DISP_Z_AXIS | Ошибка оси Z |
| 0x100D | ERR_DISP_X_AXIS | Ошибка оси X |
| 0x100E | ERR_DISP_Y_AXIS | Ошибка оси Y |
| 0x100F | ERR_DISP_WASH | Ошибка промывки |

---

## 3. Ошибки миксера (0x20xx)

| Код | Константа | Описание |
|-----|-----------|----------|
| 0x2000 | ERR_MIX_GENERAL | Общая ошибка миксера |
| 0x2001 | ERR_MIX_NOT_FOUND | Миксер не найден |
| 0x2002 | ERR_MIX_MOTOR | Ошибка двигателя миксера |
| 0x2003 | ERR_MIX_SENSOR | Ошибка датчика миксера |
| 0x2004 | ERR_MIX_HOME | Ошибка выхода на исходную позицию |
| 0x2005 | ERR_MIX_POSITION | Ошибка позиционирования |
| 0x2006 | ERR_MIX_COLLISION | Обнаружено столкновение |
| 0x2007 | ERR_MIX_PADDLE | Ошибка лопасти |
| 0x2008 | ERR_MIX_WASH | Ошибка промывки |

---

## 4. Ошибки моющей станции (0x30xx)

| Код | Константа | Описание |
|-----|-----------|----------|
| 0x3000 | ERR_WASH_GENERAL | Общая ошибка моющей станции |
| 0x3001 | ERR_WASH_PUMP | Ошибка насоса |
| 0x3002 | ERR_WASH_VALVE | Ошибка клапана |
| 0x3003 | ERR_WASH_SENSOR | Ошибка датчика |
| 0x3004 | ERR_WASH_WATER | Нет воды |
| 0x3005 | ERR_WASH_DRAIN | Ошибка слива |
| 0x3006 | ERR_WASH_OVERFLOW | Переполнение |
| 0x3007 | ERR_WASH_WASTE_FULL | Контейнер отходов заполнен |
| 0x3008 | ERR_WASH_DETERGENT | Нет моющего средства |
| 0x3009 | ERR_WASH_TIMEOUT | Таймаут промывки |

---

## 5. Ошибки ротора реагентов (0x40xx)

| Код | Константа | Описание |
|-----|-----------|----------|
| 0x4000 | ERR_REAG_GENERAL | Общая ошибка ротора реагентов |
| 0x4001 | ERR_REAG_NOT_FOUND | Ротор не найден |
| 0x4002 | ERR_REAG_MOTOR | Ошибка двигателя |
| 0x4003 | ERR_REAG_SENSOR | Ошибка датчика |
| 0x4004 | ERR_REAG_HOME | Ошибка выхода на исходную позицию |
| 0x4005 | ERR_REAG_POSITION | Ошибка позиционирования |
| 0x4006 | ERR_REAG_BARCODE | Ошибка сканера штрихкода |
| 0x4007 | ERR_REAG_NO_BARCODE | Штрихкод не найден |
| 0x4008 | ERR_REAG_EXPIRED | Реагент просрочен |
| 0x4009 | ERR_REAG_EMPTY | Реагент закончился |
| 0x400A | ERR_REAG_TEMP | Ошибка температуры |
| 0x400B | ERR_REAG_COVER | Крышка открыта |

---

## 6. Ошибки диска образцов (0x41xx)

| Код | Константа | Описание |
|-----|-----------|----------|
| 0x4100 | ERR_SAMP_GENERAL | Общая ошибка диска образцов |
| 0x4101 | ERR_SAMP_MOTOR | Ошибка двигателя |
| 0x4102 | ERR_SAMP_SENSOR | Ошибка датчика |
| 0x4103 | ERR_SAMP_HOME | Ошибка выхода на исходную позицию |
| 0x4104 | ERR_SAMP_POSITION | Ошибка позиционирования |
| 0x4105 | ERR_SAMP_BARCODE | Ошибка сканера штрихкода |
| 0x4106 | ERR_SAMP_NO_BARCODE | Штрихкод не найден |
| 0x4107 | ERR_SAMP_NO_TUBE | Пробирка не найдена |
| 0x4108 | ERR_SAMP_CLOT | Обнаружен сгусток |

---

## 7. Ошибки фотометра (0x50xx)

| Код | Константа | Описание |
|-----|-----------|----------|
| 0x5000 | ERR_PHOT_GENERAL | Общая ошибка фотометра |
| 0x5001 | ERR_PHOT_LAMP | Ошибка лампы |
| 0x5002 | ERR_PHOT_LAMP_OFF | Лампа выключена |
| 0x5003 | ERR_PHOT_LAMP_WEAK | Слабая интенсивность лампы |
| 0x5004 | ERR_PHOT_FILTER | Ошибка фильтра |
| 0x5005 | ERR_PHOT_DETECTOR | Ошибка детектора |
| 0x5006 | ERR_PHOT_ADC | Ошибка АЦП |
| 0x5007 | ERR_PHOT_OVERFLOW | Переполнение сигнала |
| 0x5008 | ERR_PHOT_UNDERFLOW | Недостаточный сигнал |
| 0x5009 | ERR_PHOT_CALIBRATION | Требуется калибровка |
| 0x500A | ERR_PHOT_WAVELENGTH | Недопустимая длина волны |
| 0x500B | ERR_PHOT_CUVETTE | Кювета не найдена |

---

## 8. Ошибки реакционного диска (0x60xx)

| Код | Константа | Описание |
|-----|-----------|----------|
| 0x6000 | ERR_REACT_GENERAL | Общая ошибка реакционного диска |
| 0x6001 | ERR_REACT_MOTOR | Ошибка двигателя |
| 0x6002 | ERR_REACT_SENSOR | Ошибка датчика |
| 0x6003 | ERR_REACT_HOME | Ошибка выхода на исходную позицию |
| 0x6004 | ERR_REACT_POSITION | Ошибка позиционирования |
| 0x6005 | ERR_REACT_TEMP | Ошибка температуры |
| 0x6006 | ERR_REACT_CUVETTE | Кювета не найдена |
| 0x6007 | ERR_REACT_COLLISION | Обнаружено столкновение |
| 0x6008 | ERR_REACT_OVERFLOW | Переполнение кюветы |

---

## 9. Ошибки термостата (0x70xx)

| Код | Константа | Описание |
|-----|-----------|----------|
| 0x7000 | ERR_THERM_GENERAL | Общая ошибка термостата |
| 0x7001 | ERR_THERM_NOT_FOUND | Термостат не найден |
| 0x7002 | ERR_THERM_SENSOR | Ошибка датчика температуры |
| 0x7003 | ERR_THERM_HEATER | Ошибка нагревателя |
| 0x7004 | ERR_THERM_COOLER | Ошибка охладителя |
| 0x7005 | ERR_THERM_OVERHEAT | Перегрев |
| 0x7006 | ERR_THERM_UNDERHEAT | Недогрев |
| 0x7007 | ERR_THERM_UNSTABLE | Нестабильная температура |
| 0x7008 | ERR_THERM_TIMEOUT | Таймаут достижения температуры |
| 0x7009 | ERR_THERM_RANGE | Температура вне диапазона |
| 0x700A | ERR_THERM_PELTIER | Ошибка элемента Пельтье |

---

## 10. Ошибки датчиков (0x80xx)

| Код | Константа | Описание |
|-----|-----------|----------|
| 0x8000 | ERR_SENS_GENERAL | Общая ошибка датчика |
| 0x8001 | ERR_SENS_NOT_FOUND | Датчик не найден |
| 0x8002 | ERR_SENS_INVALID_ID | Недопустимый ID датчика |
| 0x8003 | ERR_SENS_TIMEOUT | Таймаут опроса датчика |
| 0x8004 | ERR_SENS_COMM | Ошибка связи с датчиком |
| 0x8005 | ERR_SENS_CALIBRATION | Датчик не откалиброван |
| 0x8010 | ERR_SENS_LIQ_GENERAL | Общая ошибка датчика жидкости |
| 0x8011 | ERR_SENS_LIQ_WATER_LOW | Низкий уровень воды |
| 0x8012 | ERR_SENS_LIQ_WATER_EMPTY | Нет воды |
| 0x8013 | ERR_SENS_LIQ_WASTE_HIGH | Высокий уровень отходов |
| 0x8014 | ERR_SENS_LIQ_WASTE_FULL | Контейнер отходов полон |
| 0x8015 | ERR_SENS_LIQ_DETERGENT | Нет моющего средства |
| 0x8016 | ERR_SENS_LIQ_REAGENT | Реагент закончился |
| 0x8017 | ERR_SENS_LIQ_SAMPLE | Недостаточно образца |
| 0x8020 | ERR_SENS_TEMP_GENERAL | Общая ошибка датчика температуры |
| 0x8021 | ERR_SENS_TEMP_HIGH | Температура выше нормы |
| 0x8022 | ERR_SENS_TEMP_LOW | Температура ниже нормы |
| 0x8023 | ERR_SENS_TEMP_RANGE | Температура вне диапазона |
| 0x8024 | ERR_SENS_TEMP_UNSTABLE | Нестабильная температура |
| 0x8030 | ERR_SENS_POS_GENERAL | Общая ошибка датчика положения |
| 0x8031 | ERR_SENS_POS_HOME | Не на исходной позиции |
| 0x8032 | ERR_SENS_COVER_OPEN | Крышка открыта |
| 0x8033 | ERR_SENS_COVER_ERROR | Ошибка датчика крышки |

---

## 11. Сводная таблица групп ошибок

| Диапазон | Группа |
|----------|--------|
| 0x0000 - 0x00FF | Общие ошибки |
| 0x1000 - 0x10FF | Ошибки дозатора |
| 0x2000 - 0x20FF | Ошибки миксера |
| 0x3000 - 0x30FF | Ошибки моющей станции |
| 0x4000 - 0x40FF | Ошибки ротора реагентов |
| 0x4100 - 0x41FF | Ошибки диска образцов |
| 0x5000 - 0x50FF | Ошибки фотометра |
| 0x6000 - 0x60FF | Ошибки реакционного диска |
| 0x7000 - 0x70FF | Ошибки термостата |
| 0x8000 - 0x80FF | Ошибки датчиков |

---

## 12. Рекомендации по обработке ошибок

### Критические ошибки (требуют остановки)
- ERR_EMERGENCY_STOP (0x000B)
- ERR_HARDWARE (0x000E)
- Все ошибки столкновений (*_COLLISION)
- Все ошибки перегрева (*_OVERHEAT)

### Предупреждения (можно продолжать с осторожностью)
- ERR_LOW_LIQUID (0x000D)
- ERR_REAG_EXPIRED (0x4008)
- ERR_PHOT_LAMP_WEAK (0x5003)
- ERR_THERM_UNSTABLE (0x7007)
- ERR_SENS_LIQ_WATER_LOW (0x8011)
- ERR_SENS_LIQ_WASTE_HIGH (0x8013)
- ERR_SENS_TEMP_UNSTABLE (0x8024)

### Критические ошибки датчиков (требуют внимания оператора)
- ERR_SENS_LIQ_WATER_EMPTY (0x8012) - Нет воды
- ERR_SENS_LIQ_WASTE_FULL (0x8014) - Отходы полны
- ERR_SENS_COVER_OPEN (0x8032) - Крышка открыта

### Восстанавливаемые ошибки (требуют повторной инициализации)
- Все ошибки HOME (*_HOME)
- Все ошибки позиционирования (*_POSITION)
- ERR_NOT_INIT (0x0005)
- ERR_SENS_POS_HOME (0x8031)

### Ошибки калибровки
- ERR_CALIBRATION (0x000F)
- ERR_PHOT_CALIBRATION (0x5009)
- ERR_SENS_CALIBRATION (0x8005)
