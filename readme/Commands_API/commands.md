# Справочник команд DDS-240

## Содержание

1. [Системные команды (0x10xx)](#1-системные-команды-0x10xx)
2. [Команды дозатора (0x20xx)](#2-команды-дозатора-0x20xx)
3. [Команды миксера (0x30xx)](#3-команды-миксера-0x30xx)
4. [Команды моющей станции (0x40xx)](#4-команды-моющей-станции-0x40xx)
5. [Команды ротора реагентов (0x50xx)](#5-команды-ротора-реагентов-0x50xx)
6. [Команды диска образцов (0x51xx)](#6-команды-диска-образцов-0x51xx)
7. [Команды фотометра (0x60xx)](#7-команды-фотометра-0x60xx)
8. [Команды реакционного диска (0x70xx)](#8-команды-реакционного-диска-0x70xx)
9. [Команды термостатирования (0x80xx)](#9-команды-термостатирования-0x80xx)
10. [Команды датчиков (0x90xx)](#10-команды-датчиков-0x90xx)

---

## 1. Системные команды (0x10xx)

### 0x1000 - GET_STATUS
Запрос текущего состояния анализатора.

**Параметры:** нет

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| status | UINT8 | Состояние: 0-выкл, 1-готов, 2-занят, 3-ошибка |
| error_code | UINT16 | Код текущей ошибки (0 если нет) |

---

### 0x1001 - RESET
Сброс анализатора (программный перезапуск).

**Параметры:** нет

**Ответ:** только ACK и DONE

---

### 0x1002 - INIT
Инициализация анализатора (выход на исходные позиции).

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| modules | UINT8 | Битовая маска модулей для инициализации |

Битовая маска модулей:
- Бит 0 (0x01): Дозаторы
- Бит 1 (0x02): Миксеры
- Бит 2 (0x04): Моющая станция
- Бит 3 (0x08): Ротор реагентов
- Бит 4 (0x10): Диск образцов
- Бит 5 (0x20): Реакционный диск
- Бит 6 (0x40): Фотометр
- Бит 7 (0x80): Термостаты
- 0xFF: Все модули

**Ответ:** только ACK и DONE

---

### 0x1003 - GET_VERSION
Запрос версии прошивки.

**Параметры:** нет

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| major | UINT8 | Мажорная версия |
| minor | UINT8 | Минорная версия |
| build | UINT16 | Номер сборки |
| date | STRING | Дата сборки (YYYYMMDD) |

---

### 0x1004 - SET_DATETIME
Установка даты и времени анализатора.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| year | UINT16 | Год (2000-2099) |
| month | UINT8 | Месяц (1-12) |
| day | UINT8 | День (1-31) |
| hour | UINT8 | Час (0-23) |
| minute | UINT8 | Минуты (0-59) |
| second | UINT8 | Секунды (0-59) |

**Ответ:** только ACK и DONE

---

### 0x1005 - GET_DATETIME
Запрос текущей даты и времени.

**Параметры:** нет

**Ответ (DATA):** формат аналогичен SET_DATETIME

---

### 0x1010 - EMERGENCY_STOP
Аварийная остановка всех механизмов.

**Параметры:** нет

**Ответ:** только ACK и DONE

**Примечание:** Все двигатели немедленно останавливаются. Требуется повторная инициализация (INIT) перед продолжением работы.

---

## 2. Команды дозатора (0x20xx)

### 0x2000 - DISPENSER_WASH
Промывка дозатора.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| dispenser_id | UINT8 | Номер дозатора (1-8) |
| volume | UINT16 | Объём моющей жидкости [мкл] |
| cycles | UINT8 | Количество циклов промывки |

**Ответ:** только ACK и DONE

**Пример:**
```
CM> 00 07 20 00 01 03 E8 02 [CRC]
```
Промыть дозатор #1, объём 1000 мкл, 2 цикла.

---

### 0x2100 - DISPENSER_ASPIRATE
Забор жидкости дозатором.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| dispenser_id | UINT8 | Номер дозатора (1-8) |
| source | UINT8 | Источник (см. protocol.md, п.9) |
| slot | UINT16 | Номер слота/позиции |
| volume | UINT16 | Объём [мкл] |

**Ответ:** только ACK и DONE

---

### 0x2200 - DISPENSER_DISPENSE
Выдача жидкости дозатором.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| dispenser_id | UINT8 | Номер дозатора (1-8) |
| target | UINT8 | Назначение (см. protocol.md, п.9) |
| slot | UINT16 | Номер слота/позиции |
| volume | UINT16 | Объём [мкл] |

**Ответ:** только ACK и DONE

**Пример:**
```
CM> 00 09 22 00 01 01 00 0A 00 64 [CRC]
```
Дозатор #1 выдаёт 100 мкл в кювету #10 реакционного диска.

---

### 0x2300 - DISPENSER_HOME
Перемещение дозатора в исходную позицию.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| dispenser_id | UINT8 | Номер дозатора (1-8) |

**Ответ:** только ACK и DONE

---

### 0x2400 - DISPENSER_MOVE
Перемещение дозатора к указанной позиции.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| dispenser_id | UINT8 | Номер дозатора (1-8) |
| target | UINT8 | Целевое устройство |
| slot | UINT16 | Номер слота/позиции |
| z_offset | INT16 | Смещение по Z [мкм], 0 = стандартное |

**Ответ:** только ACK и DONE

---

## 3. Команды миксера (0x30xx)

### 0x3000 - MIXER_WASH
Промывка миксера.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| mixer_id | UINT8 | Номер миксера (1-4) |
| cycles | UINT8 | Количество циклов промывки |

**Ответ:** только ACK и DONE

---

### 0x3100 - MIXER_MIX
Перемешивание содержимого кюветы.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| mixer_id | UINT8 | Номер миксера (1-4) |
| cuvette | UINT16 | Номер кюветы |
| duration | UINT16 | Длительность перемешивания [мс] |
| wash_cycles | UINT8 | Количество промывок после (0 = без промывки) |

**Ответ:** только ACK и DONE

**Пример:**
```
CM> 00 09 31 00 01 00 05 07 D0 02 [CRC]
```
Миксер #1, кювета #5, 2000 мс, 2 промывки после.

---

### 0x3200 - MIXER_HOME
Перемещение миксера в исходную позицию.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| mixer_id | UINT8 | Номер миксера (1-4) |

**Ответ:** только ACK и DONE

---

## 4. Команды моющей станции (0x40xx)

### 0x4000 - WASH_STATION_WASH
Промывка кюветы на моющей станции.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| cycles | UINT8 | Количество циклов промывки |
| cuvette | UINT16 | Номер кюветы (0 = текущая позиция) |

**Ответ:** только ACK и DONE

---

### 0x4100 - WASH_STATION_FILL
Заполнение кюветы водой.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| volume | UINT16 | Объём воды [мкл] |
| cuvette | UINT16 | Номер кюветы (0 = текущая позиция) |

**Ответ:** только ACK и DONE

---

### 0x4200 - WASH_STATION_DRAIN
Слив жидкости из кюветы.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| cuvette | UINT16 | Номер кюветы (0 = текущая позиция) |

**Ответ:** только ACK и DONE

---

## 5. Команды ротора реагентов (0x50xx)

### 0x5000 - REAGENT_ROTATE
Поворот ротора реагентов к указанной позиции.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| rotor_id | UINT8 | Номер ротора (1-4) |
| slot | UINT16 | Номер слота (позиции) |

**Ответ:** только ACK и DONE

---

### 0x5100 - REAGENT_SCAN_BARCODE
Сканирование штрихкода реагента.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| rotor_id | UINT8 | Номер ротора (1-4) |
| slot | UINT16 | Номер слота (0 = все слоты) |

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| slot | UINT16 | Номер слота |
| barcode | STRING | Содержимое штрихкода |

При сканировании всех слотов (slot=0) отправляется несколько пакетов DATA.

---

### 0x5200 - REAGENT_GET_TEMP
Запрос температуры ротора реагентов.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| rotor_id | UINT8 | Номер ротора (1-4) |

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| temperature | INT16 | Температура [0.1°C] |
| target_temp | INT16 | Целевая температура [0.1°C] |

---

### 0x5300 - REAGENT_SET_TEMP
Установка целевой температуры ротора реагентов.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| rotor_id | UINT8 | Номер ротора (1-4) |
| temperature | INT16 | Целевая температура [0.1°C] |

**Ответ:** только ACK и DONE

---

## 6. Команды диска образцов (0x51xx)

### 0x5110 - SAMPLE_ROTATE
Поворот диска образцов к указанной позиции.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| slot | UINT16 | Номер позиции образца |

**Ответ:** только ACK и DONE

---

### 0x5120 - SAMPLE_SCAN_BARCODE
Сканирование штрихкода образца.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| slot | UINT16 | Номер позиции (0 = все позиции) |

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| slot | UINT16 | Номер позиции |
| barcode | STRING | Содержимое штрихкода |

---

## 7. Команды фотометра (0x60xx)

### 0x6000 - PHOTOMETER_SCAN_ALL
Сканирование всех кювет фотометром.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| wavelengths | UINT8 | Битовая маска длин волн |

Битовая маска длин волн (типичные):
- Бит 0: 340 нм
- Бит 1: 405 нм
- Бит 2: 450 нм
- Бит 3: 510 нм
- Бит 4: 546 нм
- Бит 5: 578 нм
- Бит 6: 630 нм
- Бит 7: 700 нм

**Ответ (DATA):** для каждой кюветы отдельный пакет

| Поле | Тип | Описание |
|------|-----|----------|
| cuvette | UINT16 | Номер кюветы |
| values | UINT16[8] | Значения АЦП для каждой длины волны |

**Пример:**
```
CM> 00 04 60 00 12 [CRC]
```
Сканировать все кюветы на длинах волн 2 и 5 (маска 0x12 = 0b00010010).

---

### 0x6100 - PHOTOMETER_SCAN_SINGLE
Сканирование одной кюветы.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| cuvette | UINT16 | Номер кюветы |
| wavelengths | UINT8 | Битовая маска длин волн |

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| cuvette | UINT16 | Номер кюветы |
| values | UINT16[8] | Значения АЦП для каждой длины волны |

---

### 0x6200 - PHOTOMETER_CALIBRATE
Калибровка фотометра (измерение воздуха/воды).

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| type | UINT8 | Тип калибровки: 0-воздух, 1-вода |
| wavelengths | UINT8 | Битовая маска длин волн |

**Ответ:** только ACK и DONE

---

### 0x6300 - PHOTOMETER_GET_WAVELENGTHS
Запрос списка доступных длин волн.

**Параметры:** нет

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| count | UINT8 | Количество длин волн |
| wavelengths | UINT16[count] | Длины волн [нм] |

---

## 8. Команды реакционного диска (0x70xx)

### 0x7000 - REACTION_ROTATE
Поворот реакционного диска.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| cuvette | UINT16 | Номер кюветы (целевая позиция) |
| position | UINT8 | Целевая рабочая позиция (0=фотометр, 1=дозатор, 2=миксер, 3=моющая станция) |

**Ответ:** только ACK и DONE

---

### 0x7100 - REACTION_HOME
Перемещение реакционного диска в исходную позицию.

**Параметры:** нет

**Ответ:** только ACK и DONE

---

## 9. Команды термостатирования (0x80xx)

### 0x8000 - THERMO_GET_TEMP
Запрос текущей температуры термостата.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| thermo_id | UINT8 | Номер термостата (см. таблицу ниже) |

Идентификаторы термостатов:
- 1: Реакционный диск
- 2: Ротор реагентов #1
- 3: Ротор реагентов #2
- 4: Диск образцов

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| temperature | INT16 | Текущая температура [0.1°C] |
| target | INT16 | Целевая температура [0.1°C] |

---

### 0x8001 - THERMO_SET_TEMP
Установка целевой температуры термостата.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| thermo_id | UINT8 | Номер термостата |
| temperature | INT16 | Целевая температура [0.1°C] |

**Ответ:** только ACK и DONE

**Пример:**
```
CM> 00 06 80 01 01 01 72 [CRC]
```
Установить температуру реакционного диска (thermo_id=1) на 37.0°C (0x0172 = 370).

---

### 0x8002 - THERMO_START
Включение термостата.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| thermo_id | UINT8 | Номер термостата |

**Ответ:** только ACK и DONE

---

### 0x8003 - THERMO_STOP
Выключение термостата.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| thermo_id | UINT8 | Номер термостата |

**Ответ:** только ACK и DONE

---

### 0x8010 - THERMO_GET_STATUS
Запрос статуса термостата.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| thermo_id | UINT8 | Номер термостата |

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| status | UINT8 | 0-выкл, 1-нагрев, 2-охлаждение, 3-готов |
| temperature | INT16 | Текущая температура [0.1°C] |
| target | INT16 | Целевая температура [0.1°C] |
| power | UINT8 | Мощность нагревателя [%] |

---

### 0x8020 - THERMO_REACTION_TEMP
Быстрая команда управления температурой реакционного диска.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| action | UINT8 | 0-выкл, 1-вкл, 2-установить |
| temperature | INT16 | Температура [0.1°C] (только для action=2) |

**Ответ:** только ACK и DONE

---

### 0x8030 - THERMO_REAGENT_TEMP
Быстрая команда управления температурой ротора реагентов.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| rotor_id | UINT8 | Номер ротора (1-4) |
| action | UINT8 | 0-выкл, 1-вкл, 2-установить |
| temperature | INT16 | Температура [0.1°C] (только для action=2) |

**Ответ:** только ACK и DONE

---

### 0x8040 - THERMO_SAMPLE_TEMP
Быстрая команда управления температурой диска образцов.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| action | UINT8 | 0-выкл, 1-вкл, 2-установить |
| temperature | INT16 | Температура [0.1°C] (только для action=2) |

**Ответ:** только ACK и DONE

---

## 10. Команды датчиков (0x90xx)

Группа команд для опроса различных датчиков анализатора: уровня жидкостей, температуры, положения и т.д.

### Идентификаторы датчиков

#### Датчики уровня жидкости (liquid_sensor_id)

| ID | Название | Описание |
|----|----------|----------|
| 0x01 | WATER_SUPPLY | Датчик уровня воды (подача) |
| 0x02 | WATER_LOW | Датчик минимального уровня воды |
| 0x03 | WATER_RESERVE | Датчик резервного бака воды |
| 0x04 | WASTE_LEVEL | Датчик уровня отходов |
| 0x05 | WASTE_FULL | Датчик переполнения отходов |
| 0x06 | WASTE_2 | Датчик второго контейнера отходов |
| 0x07 | DETERGENT_1 | Датчик моющего средства #1 |
| 0x08 | DETERGENT_2 | Датчик моющего средства #2 |
| 0x09 | RINSE_SOLUTION | Датчик ополаскивателя |
| 0x0A | SYSTEM_FLUID | Датчик системной жидкости |
| 0x0B-0x0F | SYSTEM_1-5 | Резерв системных жидкостей |
| 0x10-0x1F | REAGENT_1-16 | Датчики уровня реагентов (16 шт.) |
| 0x20-0x2F | SAMPLE_1-16 | Датчики уровня образцов (16 шт.) |
| 0x30-0x3F | CUVETTE_1-16 | Датчики уровня в кюветах (16 шт.) |
| 0x40-0x5F | USER_1-32 | Пользовательские датчики (32 шт.)

#### Датчики температуры (temp_sensor_id)

| ID | Название | Описание |
|----|----------|----------|
| 0x01 | TEMP_REACTION_1 | Температура реакционного диска (зона 1) |
| 0x02 | TEMP_REACTION_2 | Температура реакционного диска (зона 2) |
| 0x03-0x06 | TEMP_REACTION_3-6 | Температура реакционного диска (зоны 3-6) |
| 0x10 | TEMP_REAGENT_1 | Температура ротора реагентов #1 |
| 0x11 | TEMP_REAGENT_2 | Температура ротора реагентов #2 |
| 0x12-0x1F | TEMP_REAGENT_3-16 | Температура роторов реагентов (до 16 шт.) |
| 0x20 | TEMP_SAMPLE | Температура диска образцов |
| 0x30 | TEMP_AMBIENT | Температура окружающей среды |
| 0x31 | TEMP_LAMP | Температура лампы фотометра |
| 0x32 | TEMP_ELECTRONICS | Температура электроники |
| 0x40-0x4F | TEMP_USER_1-16 | Пользовательские датчики (резерв) |

#### Датчики положения (position_sensor_id)

| ID | Название | Описание |
|----|----------|----------|
| 0x01 | POS_REACTION_HOME | Исходная позиция реакционного диска |
| 0x02 | POS_REAGENT_HOME | Исходная позиция ротора реагентов |
| 0x03 | POS_SAMPLE_HOME | Исходная позиция диска образцов |
| 0x10 | POS_DISPENSER_Z | Датчик Z дозатора |
| 0x11 | POS_DISPENSER_X | Датчик X дозатора |
| 0x20 | POS_MIXER_Z | Датчик Z миксера |
| 0x30 | COVER_MAIN | Датчик крышки (основной) |
| 0x31 | COVER_REAGENT | Датчик крышки реагентов |
| 0x32 | COVER_SAMPLE | Датчик крышки образцов |

---

### 0x9000 - SENSOR_GET_ALL_LIQUIDS
Запрос состояния всех датчиков уровня жидкости.

**Параметры:** нет

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| count | UINT8 | Количество датчиков |
| sensors | SENSOR_DATA[count] | Массив данных датчиков |

Структура SENSOR_DATA:

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_id | UINT8 | ID датчика |
| status | UINT8 | 0-норма, 1-низкий, 2-критический, 3-ошибка |
| level | UINT8 | Уровень [%] (0-100, 0xFF если не измеряется) |

---

### 0x9001 - SENSOR_GET_LIQUID
Запрос состояния конкретного датчика уровня жидкости.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_id | UINT8 | ID датчика |

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_id | UINT8 | ID датчика |
| status | UINT8 | 0-норма, 1-низкий, 2-критический, 3-ошибка |
| level | UINT8 | Уровень [%] (0-100, 0xFF если не измеряется) |

---

### 0x9010 - SENSOR_GET_ALL_TEMPS
Запрос всех датчиков температуры.

**Параметры:** нет

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| count | UINT8 | Количество датчиков (до 16) |
| temps | TEMP_DATA[count] | Массив данных температуры |

Структура TEMP_DATA:

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_id | UINT8 | ID датчика температуры |
| temperature | INT16 | Температура [0.1°C] |
| status | UINT8 | 0-норма, 1-перегрев, 2-недогрев, 3-ошибка |

---

### 0x9011 - SENSOR_GET_TEMP
Запрос конкретного датчика температуры.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_id | UINT8 | ID датчика температуры (1-16 и др.) |

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_id | UINT8 | ID датчика |
| temperature | INT16 | Температура [0.1°C] |
| status | UINT8 | 0-норма, 1-перегрев, 2-недогрев, 3-ошибка |

**Пример:**
```
Запрос температуры реакционного диска (зона 1):

TX: 43 4D 3E 00 04 90 11 01 80
    │           │  │  │  └── sensor_id: 0x01
    │           └──┴──┴───── Команда: 0x9011

RX (DATA): 43 4D 3E 00 09 90 11 03 00 00 01 01 72 00 [CRC]
           │           │  │  │  │  │  │  └──┴── Температура: 370 (37.0°C)
           │           │  │  │  │  │  └─────── sensor_id: 0x01
           │           │  │  │  └──┴────────── Статус: OK
           │           │  │  └────────────────  Тип: DATA
           │           └──┴───────────────────  Команда: 0x9011
```

---

### 0x9020 - SENSOR_GET_ALL_POSITIONS
Запрос всех датчиков положения.

**Параметры:** нет

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| count | UINT8 | Количество датчиков |
| positions | POS_DATA[count] | Массив данных положения |

Структура POS_DATA:

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_id | UINT8 | ID датчика |
| state | UINT8 | 0-неактивен, 1-активен |

---

### 0x9021 - SENSOR_GET_POSITION
Запрос конкретного датчика положения.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_id | UINT8 | ID датчика положения |

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_id | UINT8 | ID датчика |
| state | UINT8 | 0-неактивен, 1-активен |

---

### 0x9030 - SENSOR_GET_WATER_STATUS
Запрос состояния системы водоснабжения (быстрая команда).

**Параметры:** нет

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| water_ok | UINT8 | 0-нет воды, 1-норма |
| water_level | UINT8 | Уровень воды [%] |
| waste_ok | UINT8 | 0-переполнен, 1-норма |
| waste_level | UINT8 | Уровень отходов [%] |

---

### 0x9040 - SENSOR_GET_COVERS
Запрос состояния всех крышек.

**Параметры:** нет

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| covers_mask | UINT8 | Битовая маска состояния крышек |

Битовая маска:
- Бит 0: Основная крышка (1 = закрыта)
- Бит 1: Крышка реагентов (1 = закрыта)
- Бит 2: Крышка образцов (1 = закрыта)
- Бит 3-7: Резерв

---

### 0x9050 - SENSOR_CONFIG
Настройка параметров датчика.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_type | UINT8 | Тип: 0-жидкость, 1-температура, 2-положение |
| sensor_id | UINT8 | ID датчика |
| param_id | UINT8 | ID параметра (см. ниже) |
| value | INT16 | Значение параметра |

Параметры для датчиков температуры:
- 0x01: Нижний порог тревоги [0.1°C]
- 0x02: Верхний порог тревоги [0.1°C]
- 0x03: Калибровочное смещение [0.1°C]

Параметры для датчиков жидкости:
- 0x01: Порог низкого уровня [%]
- 0x02: Порог критического уровня [%]

**Ответ:** только ACK и DONE

---

### 0x9060 - SENSOR_GET_CONFIG
Запрос настроек датчика.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_type | UINT8 | Тип: 0-жидкость, 1-температура, 2-положение |
| sensor_id | UINT8 | ID датчика |

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_type | UINT8 | Тип датчика |
| sensor_id | UINT8 | ID датчика |
| params_count | UINT8 | Количество параметров |
| params | PARAM_DATA[count] | Массив параметров |

Структура PARAM_DATA:

| Поле | Тип | Описание |
|------|-----|----------|
| param_id | UINT8 | ID параметра |
| value | INT16 | Значение |

---

### 0x90F0 - SENSOR_LIST
Получить список всех доступных датчиков.

**Параметры:**

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_type | UINT8 | Тип: 0-все, 1-жидкость, 2-температура, 3-положение |

**Ответ (DATA):**

| Поле | Тип | Описание |
|------|-----|----------|
| count | UINT8 | Количество датчиков |
| sensors | SENSOR_INFO[count] | Информация о датчиках |

Структура SENSOR_INFO:

| Поле | Тип | Описание |
|------|-----|----------|
| sensor_type | UINT8 | Тип датчика |
| sensor_id | UINT8 | ID датчика |
| flags | UINT8 | Флаги: бит0=активен, бит1=калиброван |
